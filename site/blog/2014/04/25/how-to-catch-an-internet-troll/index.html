<!DOCTYPE html><html><head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<meta name="description" content="Call me Sam, a theme for Hugo.">

<meta name="twitter:card" content="summary">
<meta name="twitter:domain" content="http://guidogarcia.net/">

<meta name="twitter:image" content="http://guidogarcia.net/tn.png">
<meta name="twitter:title" property="og:title" itemprop="title name" content="Call me Guido">
<meta name="twitter:description" property="og:description" itemprop="description" content="Call me Sam, a theme for Hugo.">
<meta name="og:type" content="website">
<meta name="og:url" content="http://guidogarcia.net/">
<meta name="og:image" itemprop="image primaryImageOfPage" content="http://guidogarcia.net/tn.png">

<link rel="shortcut icon" href="http://guidogarcia.net/sam.ico" id="favicon">
<link rel="stylesheet" href="http://guidogarcia.net/css/style.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">

<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>







<title>

How to catch an Internet troll

</title></head><body>
<div class="wrap">
<div class="section" id="title">How to catch an Internet troll</div>

<div class="section" id="content">

<p>Some weeks ago I carried out a social experiment (<del>dameunverso.com</del>, spanish) that consisted in writing a poem in a collaborative and anonymous way. This means that anyone can add a new verse to the poem without identifying themselves or leaving any metadata (no cookies, no IP address tracking, etc).</p>

<p>Our first trolls didn&rsquo;t take long to appear, mostly in the form of copyrighted material, spam and offensive contents. <strong>Is it possible to automatically classify an anonymous verse as spammy?</strong></p>

<p><img src="http://i.blogs.es/e3f676/trollface/450_1000.jpg" alt="Troll" /></p>

<h3 id="text-classification">Text classification</h3>

<p><a href="http://alias-i.com/lingpipe/">LingPipe</a> is a powerful Java toolkit for processing text, free for research use under some conditions. I followed the <a href="http://alias-i.com/lingpipe/demos/tutorial/classify/read-me.html">Text Classification Tutorial</a>, to classify verses in one of these categories: <strong>&ldquo;spam&rdquo; or &ldquo;love&rdquo;</strong>.</p>

<p>The classifier I built uses 80% of the poem (already classified into &ldquo;spam&rdquo; or &ldquo;love&rdquo; categories by hand), as a training set to learn and build a language model. Then, it uses the remaining 20% of the poem (48 verses) for cross-validation of this model.</p>

<p>You can find the code in the Annex I, it is less than 50 lines of code.</p>

<h3 id="classification-results">Classification results</h3>

<p>The classification <strong>accuracy is 75% Â± 12.25%</strong>, so we can say that our model performs better than a monkey at significance level of 0.05.</p>

<pre><code>Categories=[spam, love]
Total Count=48
Total Correct=36
Total Accuracy=0.75
95% Confidence Interval=0.75 +/- 0.1225

Confusion Matrix
Macro-averaged Precision=0.7555
Macro-averaged Recall=0.7412
Macro-averaged F=0.7428
</code></pre>

<p>It seems pretty promising and it can serve as inspiration but, to be honest, I don&rsquo;t think it is such a good model. With so few contributions to the poem, it is prone to overfitting, so it is probably learning to classify just our usual trolls that are not original whatsoever.</p>

<p>Moreover, we are not taking into account other factors that would greatly improve the results, such as the structure of the verse (length, number of words, etc), the relation between the verses (rhyme) or the presence of inexistent words and typos. If you want to further investigate, I suggest taking a look at <a href="http://alias-i.com/lingpipe/demos/tutorial/logistic-regression/read-me.html">Logistic Regression</a>, to build better models that also include these kind of factors.</p>

<p>On a practical note, if you ever plan to carry out a similar experiment, remember two rules. First, make it easier for you to revert vandalism than for the troll to vandalize your site. Second, don&rsquo;t feed the troll. They will eventually get tired.</p>

<h3 id="annex-i-java-code">Annex I. Java Code</h3>

<pre><code>String[] CATEGORIES = { &quot;spam&quot;, &quot;love&quot; };
int NGRAM_SIZE = 6;

String textSpamTraining =
        &quot;Ola ke Ase\n&quot; +
        &quot;censurator\n&quot; +
        &quot;...&quot;;

String textLoveTraining =
        &quot;Me ahogo en un suspiro,\n&quot; +
        &quot;miro tus ojos de cristal\n&quot; +
        &quot;...&quot;;

String[] textSpamCrossValidation = {
        &quot;os va a censurar&quot;,
        &quot;esto es una mierda&quot;,
        &quot;...&quot;
};

String[] textLoveCrossValidation = {
        &quot;el experimento ha revelado&quot;,
        &quot;que el gran poeta no era orador&quot;,
        &quot;y al no resultar como esperado&quot;,
        &quot;se ha tornado en vil censor&quot;,
        &quot;...&quot;
};

// FIRST STEP - learn
DynamicLMClassifier&lt;NGramProcessLM&gt; classifier =
        DynamicLMClassifier.createNGramProcess(CATEGORIES, NGRAM_SIZE);

{
    Classification classification = new Classification(&quot;spam&quot;);
    Classified&lt;CharSequence&gt; classified =
        new Classified&lt;CharSequence&gt;(textSpamTraining, classification);
    classifier.handle(classified);
}

{
    Classification classification = new Classification(&quot;love&quot;);
    Classified&lt;CharSequence&gt; classified =
        new Classified&lt;CharSequence&gt;(textLoveTraining, classification);
    classifier.handle(classified);
}

// SECOND STEP - compile
JointClassifier&lt;CharSequence&gt; compiledClassifier =
                (JointClassifier&lt;CharSequence&gt;) 
                        AbstractExternalizable.compile(classifier);

JointClassifierEvaluator&lt;CharSequence&gt; evaluator =
        new JointClassifierEvaluator&lt;CharSequence&gt;(
                compiledClassifier, CATEGORIES, true);

// THIRD STEP - cross-validate
for (String textSpamItem: textSpamCrossValidation) {
    Classification classification = new Classification(&quot;spam&quot;);
    Classified&lt;CharSequence&gt; classified =
        new Classified&lt;CharSequence&gt;(textSpamItem, classification);
    evaluator.handle(classified);
}

for (String textLoveItem: textLoveValidation) {
    Classification classification = new Classification(&quot;love&quot;);
    Classified&lt;CharSequence&gt; classified =
        new Classified&lt;CharSequence&gt;(textLoveItem, classification);
    evaluator.handle(classified);
}

ConfusionMatrix matrix = evaluator.confusionMatrix();
System.out.println(&quot;Total Accuracy: &quot; + matrix.totalAccuracy());

System.out.println(evaluator);
</code></pre>
</div>


<div class="section bottom-menu"><hr/><p>


<a href="/posts">Hello. Call me Guido</a>


&#183; <a href="https://twitter.com/palmerabollo">Twitter</a>

&#183; <a href="http://guidogarcia.net/"></a></p></div>


<div class="section footer"></div>
</div>
</body></html>