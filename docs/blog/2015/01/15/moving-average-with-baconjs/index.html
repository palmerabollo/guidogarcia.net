<!DOCTYPE html><html><head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<meta name="description" content="Call me Sam, a theme for Hugo.">

<meta name="twitter:card" content="summary">
<meta name="twitter:domain" content="https://guidogarcia.net">

<meta name="twitter:image" content="https://guidogarcia.net/tn.png">
<meta name="twitter:title" property="og:title" itemprop="title name" content="Call me Guido">
<meta name="twitter:description" property="og:description" itemprop="description" content="Call me Sam, a theme for Hugo.">
<meta name="og:type" content="website">
<meta name="og:url" content="https://guidogarcia.net">
<meta name="og:image" itemprop="image primaryImageOfPage" content="https://guidogarcia.net/tn.png">

<link rel="shortcut icon" href="https://guidogarcia.net/sam.ico" id="favicon">
<link rel="stylesheet" href="https://guidogarcia.net/css/style.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">

<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>







<title>

Simple moving average with bacon.js

</title></head><body>
<div class="wrap">
<div class="section" id="title">Simple moving average with bacon.js</div>

<div class="section" id="content"><p><a href="https://baconjs.github.io/">Bacon</a> is a <em>small functional reactive programming lib for JavaScript</em>. Sometimes it is easier to handle data as a stream and react to changes in the stream instead of processing individual events. In the example below (nodejs), a simple moving average.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">Bacon</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;baconjs&#39;</span>)

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">avg</span>(<span style="color:#a6e22e">array</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">sum</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">array</span>.<span style="color:#a6e22e">reduce</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>; }, <span style="color:#ae81ff">0</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">sum</span> <span style="color:#960050;background-color:#1e0010">/ array.length;</span>
}

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bus</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Bacon</span>.<span style="color:#a6e22e">Bus</span>();
<span style="color:#a6e22e">bus</span>.<span style="color:#a6e22e">slidingWindow</span>(<span style="color:#ae81ff">3</span>).<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">avg</span>).<span style="color:#a6e22e">onValue</span>(<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>);
<span style="color:#a6e22e">bus</span>.<span style="color:#a6e22e">push</span>(<span style="color:#ae81ff">1</span>); <span style="color:#75715e">// output = 1
</span><span style="color:#75715e"></span><span style="color:#a6e22e">bus</span>.<span style="color:#a6e22e">push</span>(<span style="color:#ae81ff">2</span>); <span style="color:#75715e">// output = 1.5
</span><span style="color:#75715e"></span><span style="color:#a6e22e">bus</span>.<span style="color:#a6e22e">push</span>(<span style="color:#ae81ff">3</span>); <span style="color:#75715e">// output = 2
</span><span style="color:#75715e"></span></code></pre></div>

<p>You can see <a href="http://guidogarcia.net/demos/bacon/">another example</a> (<a href="https://github.com/palmerabollo/test-bacon">github</a>) where an event stream is created and populated with your mouse positions. The &ldquo;y&rdquo; position is represented along with the moving average.</p>
</div>


<div class="section bottom-menu"><hr/><p>


<a href="/posts">Hello. Call me Guido</a>


&#183; <a href="https://twitter.com/palmerabollo">Twitter</a>
&#183; <a href="http://bot.guidogarcia.net/">My bot (alpha)</a>

&#183; <a href="https://guidogarcia.net"></a></p></div>


<div class="section footer"></div>
</div>
</body></html>